!function(a){"use strict";a(function(){function b(b,c,d,e){var f=a("#pop-recarga-fields",e);e.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.ajax({url:wc_pop_recarga_params.ajax_url,data:{action:"wc_pop_recarga_request_token",security:wc_pop_recarga_params.security,order_total:b,code:c,number:d,currency_code:wc_pop_recarga_params.currency_code},type:"POST",dataType:"json",success:function(b){a(".woocommerce-error, .pop-recarga-payment-id",f).remove(),e.unblock(),b.success?(a("#pop-recarga-token-wrap",f).show(),f.prepend('<input type="hidden" class="pop-recarga-payment-id" value="'+b.data.payment_id+'" name="pop_recarga_payment_id" />')):(a("#pop-recarga-token-wrap",f).hide(),f.prepend('<div class="woocommerce-error">'+b.data.message+"</div>"))}})}a(document.body).on("click","#pop-recarga-send",function(c){c.preventDefault();var d=a("form.checkout, form#order_review"),e=a("#pop-recarga-fields",d),f=a("#pop-recarga-code",e).val(),g=a("#pop-recarga-number",e).val(),h=a("#pop-recarga-order-total",e).val();return a(".woocommerce-error",e).remove(),0===f.length||0===g.length?(e.prepend('<div class="woocommerce-error">'+wc_pop_recarga_params.i18n_missing_number+"</div>"),!1):void b(h,f,g,d)}),a(document.body).on("keyup","#pop-recarga-fields #pop-recarga-code",function(){this.value.length===this.maxLength&&a(this).next("#pop-recarga-number").focus()})})}(jQuery);