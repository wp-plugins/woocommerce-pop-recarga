!function(a){"use strict";a(function(){function b(b,c,d){var e=a("#pop-recarga-fields",d);d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.ajax({url:wc_pop_recarga_params.ajax_url,data:{action:"wc_pop_recarga_request_token",security:wc_pop_recarga_params.security,order_total:b,number:c,currency_code:wc_pop_recarga_params.currency_code},type:"POST",dataType:"json",success:function(b){a(".woocommerce-error, .pop-recarga-payment-id",e).remove(),d.unblock(),b.success?(a("#pop-recarga-token-wrap",e).show(),e.prepend('<input type="hidden" class="pop-recarga-payment-id" value="'+b.data.payment_id+'" name="pop_recarga_payment_id" />')):(a("#pop-recarga-token-wrap",e).hide(),e.prepend('<div class="woocommerce-error">'+b.data.message+"</div>"))}})}a(document.body).on("click","#pop-recarga-send",function(c){c.preventDefault();var d=a("form.checkout, form#order_review"),e=a("#pop-recarga-fields",d),f=a("#pop-recarga-number",e).val(),g=a("#pop-recarga-order-total",e).val();return a(".woocommerce-error",e).remove(),0===f.length?(e.prepend('<div class="woocommerce-error">'+wc_pop_recarga_params.i18n_missing_number+"</div>"),!1):void b(g,f,d)})})}(jQuery);